webpackJsonp([6],{"/iyE":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),s=i("AZo+"),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{staticClass:"AddVehiclVeiw",attrs:{title:"文件下载",center:"","append-to-body":"",visible:t.dialogVisible,"before-close":t.close},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.dialogRow.length?i("div",{staticClass:"diaDiv"},t._l(t.dialogRow,function(e,n){return i("div",{key:n},[i("span",[t._v(t._s(1*n+1)+".")]),i("span",{staticClass:"col1"},[t._v(" "+t._s(e.fileName))]),t._v(" "),i("span",[i("el-button",{on:{click:function(i){return t.xiazai(e)}}},[t._v("下载")])],1)])}),0):i("span"),t._v(" "),i("form",{ref:"formLoad",attrs:{action:"#",method:"GET"}})])},staticRenderFns:[]};var r=i("VU/8")({name:"download",data:function(){return{filePath:"",dialogRow:[],dialogVisible:!1}},methods:{close:function(){this.dialogVisible=!1,this.filePath="",this.dialogRow=[]},xiazai:function(t){var e=this.$ip+"/mms-file/get-file-stream-by-id/"+t.id;this.$refs.formLoad.action=e,this.$refs.formLoad.submit()},open:function(t){this.dialogVisible=!0,this.dialogRow=t}}},o,!1,function(t){i("kqdM")},"data-v-054c0240",null).exports,l=i("IGiG"),c=i("PJh5"),d=i.n(c),u={name:"copyDetails",components:{},data:function(){return{moment:d.a,row:{},dialogFormVisible:!1}},methods:{open:function(t){this.dialogFormVisible=!0,this.row=a()({},t)},close:function(){this.row={},this.dialogFormVisible=!1,this.$emit("getList")}},created:function(){}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"消息详情","close-on-click-modal":!1,center:"",visible:t.dialogFormVisible,"before-close":t.close},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("div",{staticClass:"divBox"},[i("div",{staticClass:"divc"},[i("div",[t._v("发送人：")]),t._v(" "),i("div",[t._v(t._s(t.row.userName))])]),t._v(" "),i("div",{staticClass:"divc"},[i("div",[t._v("发送单位：")]),t._v(" "),i("div",[t._v(t._s(t.row.sendDepartment||"--"))])]),t._v(" "),i("div",{staticClass:"divc"},[i("div",[t._v("接收时间：")]),t._v(" "),i("div",[t._v(t._s(t.row.sendDate?t.moment(t.row.sendDate).format("YYYY-MM-DD"):"--"))])]),t._v(" "),i("div",{staticClass:"divc"},[i("div",[t._v("要求处理时间：")]),t._v(" "),i("div",[t._v(t._s(t.row.deadline?t.moment(t.row.deadline).format("YYYY-MM-DD"):"--"))])]),t._v(" "),i("div",{staticClass:"divc"},[i("div",[t._v("发送内容：")]),t._v(" "),i("div",[t._v(t._s(t.row.content||"--")+" jdhfksdf恢复考试都会发生收快递费你在哪儿我在这人")])])])])],1)},staticRenderFns:[]};var v=i("VU/8")(u,f,!1,function(t){i("x+tN")},"data-v-4ae0a1c2",null).exports,h=function(t){if(t.sendDate)return d()(t.sendDate).format("YYYY-MM-DD")},b=function(){return[{type:"index",label:"序号",width:"55",align:"center"},{prop:"sendPerson",label:"发送人",width:120,align:"center"},{prop:"content",label:"发送内容",align:"center"},{prop:"sendDate",label:"接收时间",width:120,formatter:h,align:"center"},{slot:"option"}]},m=function(){return[{type:"index",label:"序号",width:"55",align:"center"},{prop:"sendDate",label:"日期",width:120,formatter:h,align:"center"},{prop:"source",label:"来源",width:120,align:"center"},{prop:"content",label:"内容",align:"center"},{slot:"option"}]},p=i("7kJt"),g=i("M4fF"),_={components:{SearchTable:l.a,Download:r,Info:v},data:function(){return{userName:Object(s.b)().name,workNumber:Object(s.b)().workNumber,tableData:{},tableConfig:b(),params:{current:1,size:15},isActive:0,airlineCompanyName:[],AircraftType:[],buttonList:[{name:"信息",id:"1",api:"/mms-notice/notificationRecipient/list",obj:{states:[0,1]}},{name:"预警",id:"2",api:"/mms-warning/warning/list",obj:{stateList:[1,2,3]}}],buttonObj:{},configObj:{1:b,2:m}}},created:function(){this.buttonObj=this.buttonList[0],this.getList()},methods:{openInfo:function(t){var e=this;Object(p.a)({url:this.$ip+"/mms-notice/notificationRecipient/close/"+t.id,method:"get",params:this.params}).then(function(i){200==i.code&&e.$refs.Info.open(t)})},clickAction:function(t){var e=this;this.$confirm("此操作将该预警信息标记为已读，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){Object(p.a)({url:e.$ip+"/mms-warning/warning/close/"+t.id,method:"get"}).then(function(t){e.$message.success("已读成功！"),e.getList()})}).catch(function(){e.$message.info("已取消操作")})},clickButton:function(t,e){this.isActive=e,this.params={current:1,size:15},this.buttonObj=a()({},t),this.tableConfig=this.configObj[this.buttonObj.id](),this.getList()},downloadFile:function(t){t.fileInfoList?this.$refs.downloadFile.open(t.fileInfoList):this.$message.warning("暂无文件可以下载")},getList:function(){var t=this,e=this.buttonObj.obj;Object(p.a)({url:""+this.$ip+this.buttonObj.api,method:"post",data:e,params:this.params}).then(function(e){t.tableData=Object(g.extend)({},t.tableData,e.data)})},handleSizeChange:function(t){this.params.current=1,this.params.size=t,this.getList()},handleCurrentChange:function(t){this.params.current=t,this.getList()}}},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"indexDiv",staticClass:"index"},[i("div",{staticClass:"top_header flex justify_between"},[i("div"),t._v(" "),i("div",[t._v("消息")]),t._v(" "),i("div"),t._v(" "),i("div",{staticClass:"iconSvg"},[i("icon-svg",{attrs:{iconClass:"usericon"}}),t._v(t._s(t.userName)+t._s(t.workNumber?"("+t.workNumber+")":""))],1)]),t._v(" "),i("div",{staticClass:"inner"},[i("div",{staticClass:"banner"},t._l(t.buttonList,function(e,n){return i("span",{key:e.id,class:t.isActive==n?"isActive":"",on:{click:function(i){return t.clickButton(e,n)}}},[t._v("\n              "+t._s(e.name)+"\n            ")])}),0),t._v(" "),i("div",{staticClass:"content"},[i("SearchTable",{key:t.isActive,ref:"searchTable",attrs:{offsetTop:"0",data:t.tableData,tableConfig:t.tableConfig,noSearch:!0,refTag:"searchTable",showHeader:!1,showPage:!0},on:{handleSizeChange:t.handleSizeChange,handleCurrentChange:t.handleCurrentChange}},[0==t.isActive?i("el-table-column",{attrs:{slot:"option",label:"操作",align:"center",width:80},slot:"option",scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[i("span",{staticClass:"rowSvg"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.openInfo(n)}}},[t._v("查看")])],1)]}}],null,!1,2505699422)}):t._e(),t._v(" "),1==t.isActive?i("el-table-column",{attrs:{slot:"option",label:"操作",align:"center",width:80},slot:"option",scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return 0!==n.state?[i("span",{staticClass:"rowSvg"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.clickAction(n)}}},[t._v("已读")])],1)]:void 0}}],null,!0)}):t._e()],1)],1)]),t._v(" "),i("Info",{ref:"Info",on:{getList:t.getList}})],1)},staticRenderFns:[]};var C=i("VU/8")(_,w,!1,function(t){i("aHFc")},"data-v-4ddb9006",null);e.default=C.exports},aHFc:function(t,e){},kqdM:function(t,e){},"x+tN":function(t,e){}});
//# sourceMappingURL=6.e07dce2bfe1115772c1c.js.map
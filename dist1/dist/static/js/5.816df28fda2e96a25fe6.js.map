{"version":3,"sources":["webpack:///./src/assets/img/shader.png","webpack:///src/views/workOrders/photoUpload/index.vue","webpack:///./src/views/workOrders/photoUpload/index.vue?07b7","webpack:///./src/views/workOrders/photoUpload/index.vue","webpack:///./src/assets/img/close.svg"],"names":["module","exports","__webpack_require__","p","photoUpload","data","close","close_default","a","shader","shader_default","imgs","created","this","$route","query","id","methods","imgClick","readLocalFile","e","content","localFile","document","getElementById","files","reader","FileReader","current","onload","event","target","result","formData","FormData","append","Object","axios","headers","Content-Type","url","$ip","method","then","console","log","code","contentType","startsWith","push","src","$message","type","message","onerror","readAsDataURL","sss","value","deleteImg","index","splice","submitFn","_this2","length","map","i","toString","fileId","setTimeout","routerPushFn","path","arguments","undefined","$router","workOrders_photoUpload","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","_v","_s","staticStyle","height","_l","item","key","attrs","alt","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.816df28fda2e96a25fe6.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/shader.b3db3f5.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/shader.png\n// module id = DYCf\n// module chunks = 5","<template>\n  <div class=\"index\">\n    <div class='top_header flex justify_between'>\n      <div @click=\"routerPushFn('/orderSign', {id})\">{{'<'}}</div>\n      <div>黄页拍照</div>\n      <div></div>\n    </div>\n    <div style=\"height: 68px\"></div>\n    <div class=\"content\">\n      <div class=\"content_inner flex\">\n        <div class=\"item\" v-for='(item, index) in imgs' :key='index'>\n          <img :src=\"close\" alt=\"\" class=\"close\" @click='deleteImg(index)'>\n          <img :src=\"item.src\" alt=\"\" class=\"img\">\n          <img :src=\"shader\" alt=\"\" class=\"shader\">\n        </div>\n        <div class=\"item_icon\" v-on:click=\"imgClick()\">\n          <div class=\"add\">\n            +\n          </div>\n        </div>\n      </div>\n\n    </div>\n     <div @click=\"submitFn\" class=\"bottom\">提交</div>\n  </div>\n</template>\n<script>\n\n  import Bridge from '@/assets/js/jsBriage.js'\n  import close from '@/assets/img/close.svg'\n  import shader from '@/assets/img/shader.png'\n  import request from '@/lib/axios.js';\n  import {map} from \"lodash\"\n\n  export default {\n    data() {\n      return {\n        close,\n        shader,\n        a:'1',\n        imgs: [],\n\n\n      }\n    },\n    created() {\n      if (this.$route.query) {\n        this.id = this.$route.query.id\n      }\n    },\n    methods: {\n\n      imgClick () {\n        let _this=this\n\n       },\n      //点击选中图片\n      readLocalFile(e) {\n        var localFile = document.getElementById(\"uploadFile\").files[0];\n        var reader = new FileReader();\n        var content;\n        var current = this;\n        reader.onload = function (event) {\n          content = event.target.result;\n          var formData = new FormData();\n          formData.append('file', e.target.files[0]); // 文件数据\n          request({\n            headers: {\"Content-Type\": \"multipart/form-data\"},\n            url: `${current.$ip}/mms-file/upload2`,\n            method: 'post',\n            data: formData\n          })\n            .then((data) => {\n              console.log(data)\n              if (data.code == 200) {\n                if (data.data.contentType.startsWith(\"image\")) {\n                  current.imgs.push({\n                    src: content,\n                    id: data.data.id\n                  }) //获取图片base64代码\n                  //current.$message({type: 'success', message: '提交'});\n                } else {\n                  current.$message({type: 'error', message: '只能输入图片'});\n                }\n              } else {\n                current.$message({type: 'error', message: data.message});\n              }\n            })\n\n        }\n        reader.onerror = function (event) {\n        }\n        content = reader.readAsDataURL(localFile, \"UTF-8\");\n        var sss = document.getElementById(\"uploadFile\").value;\n        console.log(sss);\n      },\n      deleteImg(index) {\n        this.imgs.splice(index, 1);\n      },\n      submitFn() {\n        if (this.imgs.length) {\n          let imgs = this.imgs.map(i => i.id).toString()\n           request({\n            url: `${this.$ip}/mms-workorder/app/workorder/upload`,\n            method: 'post',\n            data: {\n              fileId: imgs,\n              id: this.id\n            }\n          })\n            .then((data) => {\n              console.log(data)\n              if (data.code == 200) {\n                this.$message({type: 'success', message: data.message});\n                setTimeout(() => {\n                  this.routerPushFn('/orderSign', {id: this.id})\n                }, 500)\n              } else {\n                this.$message({type: 'error', message: data.message});\n              }\n            })\n        }\n      },\n      routerPushFn(path, query = {}) {\n        this.$router.push({path, query})\n      }\n    }\n  }\n</script>\n<style scoped lang='less'>\n  .index {\n    padding: 30px;\n    .top_header {\n      line-height: 68px;\n      height: 68px;\n      position: fixed;\n      font-size: 24px;\n      left: 0;\n      top: 0;\n      right: 0;\n      background: #2D4157;\n      color: #fff;\n      padding: 0 10px;\n      z-index: 99;\n    }\n    .content {\n      width: 100%;\n      .content_inner {\n        flex-wrap: wrap;\n        .item {\n          width: 200px;\n          height: 150px;\n          margin-left: 20px;\n          position: relative;\n          margin-bottom: 20px;\n          .img {\n            width: 100%;\n            height: 100%;\n          }\n          .close {\n            width: 36px;\n            height: 36px;\n            position: absolute;\n            right: -14px;\n            top: -14px;\n            z-index: 3;\n             /*opacity: .8;*/\n          }\n          .shader {\n            display: none;\n            width: 100%;\n            height: 36px;\n            position: absolute;\n            right: 0;\n            left: 0;\n            top: 0;\n            z-index: 2;\n          }\n        }\n        .item_icon {\n          width: 200px;\n          height: 150px;\n          margin-left: 20px;\n          position: relative;\n          border: 1px dashed #333333;\n          .add {\n            font-size: 50px;\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            color: #3280e7;\n            transform: translate(-50%, -50%);\n            cursor: pointer;\n            transition: all 0.3s linear;\n            &:hover {\n              transform: translate(-50%, -50%) scale(1.1, 1.1);\n            }\n\n          }\n        }\n      }\n    }\n    .bottom {\n      height: 68px;\n      line-height: 68px;\n      text-align: center;\n      background: #409EFF;\n      position: fixed;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 3;\n      color: #fff;\n      z-index: 2000;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/workOrders/photoUpload/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index\"},[_c('div',{staticClass:\"top_header flex justify_between\"},[_c('div',{on:{\"click\":function($event){return _vm.routerPushFn('/orderSign', {id: _vm.id})}}},[_vm._v(_vm._s('<'))]),_vm._v(\" \"),_c('div',[_vm._v(\"黄页拍照\")]),_vm._v(\" \"),_c('div')]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"68px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"content_inner flex\"},[_vm._l((_vm.imgs),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('img',{staticClass:\"close\",attrs:{\"src\":_vm.close,\"alt\":\"\"},on:{\"click\":function($event){return _vm.deleteImg(index)}}}),_vm._v(\" \"),_c('img',{staticClass:\"img\",attrs:{\"src\":item.src,\"alt\":\"\"}}),_vm._v(\" \"),_c('img',{staticClass:\"shader\",attrs:{\"src\":_vm.shader,\"alt\":\"\"}})])}),_vm._v(\" \"),_c('div',{staticClass:\"item_icon\",on:{\"click\":function($event){return _vm.imgClick()}}},[_c('div',{staticClass:\"add\"},[_vm._v(\"\\n          +\\n        \")])])],2)]),_vm._v(\" \"),_c('div',{staticClass:\"bottom\",on:{\"click\":_vm.submitFn}},[_vm._v(\"提交\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eabb6f72\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/workOrders/photoUpload/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-eabb6f72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eabb6f72\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-eabb6f72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/workOrders/photoUpload/index.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiINCiAgICAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdD0iMTU5NzMwNDA0OTQyNyIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSIxOTU4Ig0KICAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NCiAgICA8ZGVmcz4NCiAgICAgICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPg0KICAgIDwvZGVmcz4NCiAgICA8cGF0aA0KICAgICAgICBkPSJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTZBNDQ4IDQ0OCAwIDAgMSA1MTIgNjR6TTQwOC41NzYgMzYzLjEzNmEzMiAzMiAwIDEgMC00NS4zMTIgNDUuMjQ4bDEwMy44MDggMTAzLjc0NC0xMDMuODA4IDEwMy43NDRhMzIgMzIgMCAxIDAgNDUuMzEyIDQ1LjI0OGwxMDMuNzQ0LTEwMy42OCAxMDMuNzQ0IDEwMy42OGEzMiAzMiAwIDEgMCA0NS4yNDgtNDUuMjQ4bC0xMDMuNzQ0LTEwMy42OCAxMDMuNzQ0LTEwMy44MDhhMzIgMzIgMCAwIDAtNDUuMjQ4LTQ1LjI0OEw1MTIuMzIgNDY2Ljg4eiINCiAgICAgICAgZmlsbD0iIzcwNzA3MCIgcC1pZD0iMTk1OSI+PC9wYXRoPg0KPC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/close.svg\n// module id = mq5u\n// module chunks = 3 5"],"sourceRoot":""}